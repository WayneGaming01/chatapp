<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="/library/css/main.css" />
    <link rel="stylesheet" href="/library/css/custom.css" />
    <title>
      <% if(userforDetailsfindOne) { %> <%= userforDetailsfindOne.username %>'s
      Profile - <%= config.CLIENT_NAME %> <% } else {%> This user does not
      exists - <%= config.CLIENT_NAME %> <% } %>
    </title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap"
      rel="stylesheet"
    />
    <script
      src="https://kit.fontawesome.com/73d4b4352e.js"
      crossorigin="anonymous"
    ></script>
  </head>
  <style>
    * {
      font-family: "Poppins", sans-serif;
    }
  </style>
  <body class="dark:bg-main duration-75 transition ease-in">
    <main class="transition-fade" id="swup">
      <%- include("./app/components/dark-mode.ejs") %> <%-
      include("./components/header.ejs") %> <%-
      include("./components/login-modal.ejs") %> <%-
      include("./components/signup-modal.ejs") %><% if(user) { %> <%-
      include("./app/components/profile-modal.ejs") %> <% } %>
      <section>
        <% if(userforDetailsfindOne) { %>
        <div class="flex items-center p-10">
          <img
            src="/api/users/<%= userforDetailsfindOne.username %>/profile<%= userforDetailsfindOne.avatar %>"
            alt="Profile"
            class="h-24 w-24 rounded-full p-1"
          />
          <span
            class="text-neutral-700 dark:text-white text-3xl font-bold flex p-2 max-w-xs-custom text-center"
          >
            <%= userforDetailsfindOne.username %></span
          >
        </div>
        <div class="flex justify-start items-start flex-col">
          <div
            class="rounded-md flex flex-col p-7 p-7 mb-5 w-full h-full overflow-hidden"
          >
            <div class="flex justify-between">
              <span class="dark:text-white text-neutral-700 text-2xl">
                <%= userforDetailsfindOne.username %>'s Profile
              </span>
            </div>

            <div
              class="bg-neutral-300 dark:bg-neutral-800 p-4 rounded-md mb-5 mt-5"
            >
              <span class="dark:text-white text-sm text-neutral-700">
                <% if(userforDetailsfindOne.bio === "") { %> There's nothing to
                show here. <% } else { %> <%= userforDetailsfindOne.bio %> <% }
                %>
              </span>
              <br />
              <h1
                class="mt-5 text-md capitalize font-medium dark:text-white text-neutral-700"
              >
                Account created
              </h1>
              <p class="text-sm dark:text-white text-neutral-700">
                <%= userforDetailsfindOne.created_at %>
              </p>
            </div>
          </div>
        </div>
        <% } else { %>
        <div class="flex justify-center items-center flex-col">
          <div
            class="flex overflow-hidden bg-neutral-300 dark:bg-neutral-800 p-4 rounded-md mb-5 mt-5"
          >
            <span class="dark:text-white text-center text-sm text-neutral-700">
              <i class="fa-solid fa-circle-exclamation"></i>&nbsp;This user does
              not exists!
            </span>
          </div>
        </div>
        <% } %>
      </section>
    </main>
    <script src="https://unpkg.com/swup@3"></script>
    <script type="module" src="/library/js/script.js"></script>
  </body>
</html>
